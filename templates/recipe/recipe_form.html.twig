{{ form_start(form) }}
<div class="mb-3">
    {{ form_label(form.title, 'Titre', {'label_attr': {'class': 'form-label'}}) }}
    {{ form_widget(form.title, {'attr': {'class': 'form-control'}}) }}
    {{ form_errors(form.title) }}
</div>
<div class="mb-3">
    {{ form_label(form.description, 'Description', {'label_attr': {'class': 'form-label'}}) }}
    {{ form_widget(form.description, {'attr': {'class': 'form-control'}}) }}
    {{ form_errors(form.description) }}
</div>
<div class="form-group">
    {{ form_label(form.imageFile) }}
    {% include '_recipe_file_widget.html.twig' with {'form': form.imageFile} %}
</div>
<div class="mb-3">
    {{ form_label(form.difficulty, 'Difficulté', {'label_attr': {'class': 'form-label'}}) }}
    {{ form_widget(form.difficulty, {'attr': {'class': 'form-control'}}) }}
    {{ form_errors(form.difficulty) }}
</div>
<div class="mb-3">
    {{ form_label(form.cooking_time, 'Temps de cuisson (en minutes)', {'label_attr': {'class': 'form-label'}}) }}
    {{ form_widget(form.cooking_time, {'attr': {'class': 'form-control'}}) }}
    {{ form_errors(form.cooking_time) }}
</div>
<div class="mb-3">
    {{ form_label(form.rest_time, 'Temps de repos (en minutes)', {'label_attr': {'class': 'form-label'}}) }}
    {{ form_widget(form.rest_time, {'attr': {'class': 'form-control'}}) }}
    {{ form_errors(form.rest_time) }}
</div>
<div class="mb-3 ingredient-container">
    <h2>Ingrédients</h2>
    <ul class="ingredient-list list-group" data-prototype="{{ form_widget(form.ingredients.vars.prototype)|e('html_attr') }}">
        {% for ingredient in form.ingredients %}
            <li class="list-group-item">
                {{ form_row(ingredient.name) }}
                {{ form_row(ingredient.quantity) }}
                {{ form_row(ingredient.unit) }}
                <button type="button" class="remove-ingredient btn btn-danger">Supprimer</button>
            </li>
        {% endfor %}
    </ul>
    <button type="button" class="add-ingredient btn btn-secondary mt-3">Ajouter un ingrédient</button>
</div>
<div class="mb-3 step-container">
    <h2>Étapes de réalisation</h2>
    <ul class="step-list list-group" data-prototype="{{ form_widget(form.steps.vars.prototype)|e('html_attr') }}">
        {% for step in form.steps %}
            <li class="list-group-item">
                {{ form_row(step) }}
                <button type="button" class="remove-step btn btn-danger">Supprimer</button>
            </li>
        {% endfor %}
    </ul>
    <button type="button" class="add-step btn btn-secondary mt-3">Ajouter une étape</button>
</div>

<button type="submit" class="btn btn-primary">Enregistrer</button>
{{ form_end(form) }}